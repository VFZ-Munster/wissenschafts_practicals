<script>
  document.addEventListener("DOMContentLoaded", function () {
    const path = window.location.pathname;
    const isGerman = path.startsWith("/de/") || path === "/de";
    
    // Select all nav links to find the language switcher
    const links = document.querySelectorAll('.navbar-nav .nav-link');
    
    links.forEach(link => {
      const text = link.textContent.trim();
      
      if (text === "Deutsch" && !isGerman) {
        // We are on an English page, switching to German
        // Prepend /de to the current path
        // Handle root case carefully if needed, but usually /de + /path works
        // If path is /, result is /de/
        // If path is /foo.html, result is /de/foo.html
        const newPath = "/de" + path;
        link.setAttribute('href', newPath);
      } else if (text === "English" && isGerman) {
        // We are on a German page, switching to English
        // Remove /de from the start of the path
        let newPath = path.replace(/^\/de/, "");
        if (newPath === "") newPath = "/"; // Handle case where path was just /de
        link.setAttribute('href', newPath);
      }
    });
  });
</script>
